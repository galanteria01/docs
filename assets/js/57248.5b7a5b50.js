"use strict";(self.webpackChunkdyte_docs=self.webpackChunkdyte_docs||[]).push([[57248],{57248:function(e,t,i){i.r(t),i.d(t,{dyte_grid:function(){return l}});var s=i(13441),r=i(8198),n=i(14878),a=i(10670);const d=e=>{const[t,i]=e.split(":");return Number.parseInt(i)/Number.parseInt(t)},o=({peers:e,defaults:t,host:i,gap:n,aspectRatio:a,containerDimensions:o})=>{const[l,c]=(({size:e,container:t,dimensions:i,gap:s,ratio:r})=>{let[n,a]=i||[t.clientWidth,t.clientHeight];n-=2*s,a-=2*s;const d=t=>{let i=0,d=t*r+2*s;for(let a=0;a<e;a++)i+t>n&&(i=0,d+=t*r+2*s),i+=t+2*s;return!(d>a||t>n)&&t};let o=0,l=!1;for(let c=1;c<1440;c++)if(!1===d(c)){o=c-1,l=!0;break}return l||(o=1440),o-=2*s,[o,o*r]})({size:e.length,gap:n,dimensions:o,container:i,ratio:d(a)});return e.map((e=>(0,s.h)(r.R,{element:"dyte-peer-view",defaults:t,props:{peer:e,key:e.id,"data-peer":e.id,style:{width:`${l}px`,height:`${c}px`,margin:`${n}px`}},childProps:{peer:e},deepProps:!0})))},l=class{constructor(e){(0,s.r)(this,e),this.aspectRatio="16:9",this.gap=8,this.config=r.d,this.iconPack=n.d,this.t=(0,a.u)(),this.peers=[],this.screensharePeers=[],this.plugins=[]}connectedCallback(){this.resizeObserver=new ResizeObserver((()=>{const{clientWidth:e,clientHeight:t}=this.host;this.dimensions=[e,t]})),this.resizeObserver.observe(this.host),this.meetingChanged(this.meeting)}disconnectedCallback(){var e;null===(e=this.resizeObserver)||void 0===e||e.disconnect(),null!=this.meeting&&(this.participantJoinedListener&&this.meeting.participants.active.removeListener("participantJoined",this.participantJoinedListener),this.participantJoinedListener&&this.meeting.participants.active.removeListener("participantLeft",this.participantJoinedListener),this.screenShareListener&&this.meeting.participants.joined.removeListener("screenShareUpdate",this.screenShareListener),null!=this.viewModeListener&&(this.meeting.participants.removeListener("viewModeChanged",this.viewModeListener),this.meeting.participants.removeListener("pageChanged",this.viewModeListener)),this.screenShareListener&&this.meeting.self.removeListener("screenShareUpdate",this.screenShareListener))}meetingChanged(e){if(null!=e){if(this.peers=[...e.participants.active.toArray(),"ACTIVE_GRID"===e.participants.viewMode&&e.self],this.plugins=[...e.plugins.active.toArray()],null!=this.participantJoinedListener)return;this.participantJoinedListener=e=>{this.peers.some((t=>t.id===e.id))||(this.peers=[e,...this.peers])},this.participantLeftListener=e=>{this.peers=this.peers.filter((t=>t.id!==e.id)),this.screensharePeers=this.screensharePeers.filter((t=>t.id!==e.id))},this.screenShareListener=e=>{e.screenShareEnabled&&null!=e.screenShareTracks.video?this.addScreenSharePeer(e):this.removeScreenSharePeer(e.id)},this.selfScreenShareListener=({screenShareEnabled:t,screenShareTracks:i})=>{const s=e.self;t&&null!=i.video?this.addScreenSharePeer(s):this.removeScreenSharePeer(s.id)},this.viewModeListener=({viewMode:t,currentPage:i,pageCount:s})=>{"ACTIVE_GRID"===t?this.peers.some((t=>t.id===e.self.id))||(this.peers=[...this.peers,this.meeting.self]):i!==s&&(this.peers=this.peers.filter((e=>e.id!==this.meeting.self.id)))},this.pageChangedListener=({currentPage:t,pageCount:i,viewMode:s})=>{"PAGINATED"===s&&t===i&&(this.peers.some((t=>t.id===e.self.id))||(this.peers=[...this.peers,e.self]))},this.pluginUpdateListener=(e,{active:t})=>{t?this.plugins.some((t=>t.id===e.id))||(this.plugins=[...this.plugins,e]):this.plugins=this.plugins.filter((t=>t.id!==e.id))};{const t=e.participants.active.toArray();for(const e of t)this.screenShareListener(e)}e.participants.active.addListener("participantJoined",this.participantJoinedListener),e.participants.active.addListener("participantLeft",this.participantLeftListener),e.participants.active.addListener("screenShareUpdate",this.screenShareListener),e.participants.addListener("viewModeChanged",this.viewModeListener),e.participants.addListener("pageChanged",this.pageChangedListener),e.self.addListener("screenShareUpdate",this.selfScreenShareListener),e.plugins.all.addListener("stateUpdate",this.pluginUpdateListener)}}addScreenSharePeer(e){this.screensharePeers.some((t=>t.id===e.id))||(this.screensharePeers=[...this.screensharePeers,e])}removeScreenSharePeer(e){this.screensharePeers=this.screensharePeers.filter((t=>t.id!==e))}render(){const e=this.screensharePeers.length+this.plugins.length===0,t={meeting:this.meeting,size:this.size,states:this.states,config:this.config,iconPack:this.iconPack,t:this.t},i={peers:this.peers,defaults:t,gap:this.gap,aspectRatio:this.aspectRatio,containerDimensions:this.dimensions,host:this.host};return(0,s.h)(s.H,null,e&&(0,s.h)(o,Object.assign({},i,{host:this.host,containerDimensions:this.dimensions})),!e&&(0,s.h)("dyte-full-grid",Object.assign({},t,i,{screenSharePeers:this.screensharePeers,plugins:this.plugins})),(0,s.h)(r.R,{element:"dyte-grid",defaults:t,onlyChildren:!0}))}get host(){return(0,s.g)(this)}static get watchers(){return{meeting:["meetingChanged"]}}};l.style=":host{display:flex;height:100%;width:100%;overflow:hidden;font-family:var(--dyte-font-family, sans-serif);flex-wrap:wrap;align-content:center;align-items:center;justify-content:center;transition:0.4s}dyte-peer-view{aspect-ratio:initial;box-sizing:border-box}"},8198:function(e,t,i){i.d(t,{R:function(){return d},d:function(){return r}});var s=i(13441);const r={designTokens:{spacingBase:4,googleFont:"Inter"},styles:{"dyte-logo":{height:"24px",width:"72px"},"dyte-meeting":{width:"100%","min-height":"100vh"},"dyte-meeting[meeting=joined]":{display:"flex",flexDirection:"column"},"dyte-header":{display:"grid",height:"48px",gridTemplateColumns:"repeat(3, 1fr)",gridTemplateRows:"1fr",alignItems:"center"},"dyte-header.sm":{display:"grid",gridArea:"header",gridTemplateColumns:"repeat(2, 1fr)",gridTemplateRows:"1fr",alignItems:"center"},"div#header-left":{display:"flex",alignItems:"center"},"div#header-center":{display:"flex",alignItems:"center",justifyContent:"center"},"div#header-right":{display:"flex",alignItems:"center",justifyContent:"flex-end"},"dyte-stage":{display:"flex",flex:"1"},"dyte-grid":{flex:"1",height:"100%"},"dyte-controlbar":{display:"grid",height:"76px",gridTemplateColumns:"repeat(3,1fr)",gridTemplateRows:"1fr",alignItems:"center",padding:"8px"},"div#controlbar-left":{display:"flex",alignItems:"center"},"div#controlbar-center":{display:"flex",alignItems:"center",justifyContent:"center"},"div#controlbar-right":{display:"flex",alignItems:"center",justifyContent:"flex-end"},"div#settings-modal":{position:"fixed",inset:"0",boxSizing:"border-box",width:"100%",height:"100%",padding:"0 24px",backgroundColor:"rgba(var(--dyte-colors-background-1000, 0 0 0) / 0.6)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backdropFilter:"blur(12px)",zIndex:"100"},"dyte-settings":{width:"100%",maxWidth:"720px",height:"100%",maxHeight:"480px"},"div#leave-meeting-modal":{position:"fixed",inset:"0",boxSizing:"border-box",width:"100%",height:"100%",padding:"0 24px",backgroundColor:"rgba(var(--dyte-colors-background-1000, 0 0 0) / 0.6)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backdropFilter:"blur(12px)"}},root:{"dyte-meeting":{state:"meeting",states:["activeSettings","activeLeaveConfirmation","activeSidebar"]},"dyte-meeting[meeting=idle]":["dyte-idle-screen"],"dyte-meeting[meeting=setup]":["dyte-setup-screen"],"dyte-meeting[meeting=joined]":["dyte-header","dyte-stage","dyte-controlbar","dyte-peers-audio"],"dyte-meeting[meeting=joined].activeSettings":["dyte-header","dyte-stage","dyte-controlbar","dyte-peers-audio","div#settings-modal"],"dyte-meeting[meeting=joined].activeSidebar.sm":["dyte-header","dyte-stage","dyte-controlbar","dyte-peers-audio",["dyte-sidebar",{view:"full-screen"}]],"dyte-meeting[meeting=joined].activeSettings.activeSidebar.sm":["dyte-header","dyte-stage","dyte-controlbar","dyte-peers-audio","div#settings-modal",["dyte-sidebar",{view:"full-screen"}]],"dyte-meeting[meeting=joined].activeLeaveConfirmation":["dyte-header","dyte-stage","dyte-controlbar","dyte-peers-audio","div#leave-meeting-modal"],"dyte-meeting[meeting=ended]":["dyte-ended-screen"],"div#settings-modal":["dyte-settings"],"div#leave-meeting-modal":["dyte-leave-meeting"],"dyte-header":{children:["div#header-left","div#header-center","div#header-right"]},"dyte-header.sm":["div#header-left","div#header-right"],"div#header-left":["dyte-logo"],"div#header-center":["dyte-meeting-title"],"div#header-right":["dyte-grid-pagination","dyte-clock","dyte-participant-count"],"dyte-stage":{states:["activeSidebar"],children:["dyte-grid","dyte-notifications"]},"dyte-stage.activeSidebar":["dyte-grid","dyte-notifications",["dyte-sidebar",{view:"sidebar"}]],"dyte-stage.activeSidebar.sm":["dyte-grid","dyte-notifications"],"dyte-peer-view":{children:["dyte-name-tag","dyte-avatar"]},"dyte-screenshare-view":{children:["dyte-name-tag"]},"dyte-name-tag":[["dyte-audio-visualizer",{slot:"start"}]],"dyte-controlbar":{props:{variant:"solid"},children:["div#controlbar-left","div#controlbar-center","div#controlbar-right"]},"div#controlbar-left":["dyte-leave-button","dyte-screen-share-toggle"],"div#controlbar-center":["dyte-mic-toggle","dyte-camera-toggle","dyte-settings-toggle"],"div#controlbar-right":["dyte-chat-toggle","dyte-participants-toggle","dyte-plugins-toggle"],"div#controlbar-right.sm":["dyte-chat-toggle"]},config:{notifications:["chat","participant_joined","participant_left"],notification_sounds:["chat","participant_joined"]}},n=e=>"object"==typeof e&&!Array.isArray(e)&&null!==e,a=({elements:e,defaults:t,props:i={},deepProps:r=!1})=>Array.isArray(e)&&0!==e.length?e.map((e=>(0,s.h)(d,{element:e,defaults:t,props:i,childProps:r&&i}))):null,d=({element:e,defaults:t,childProps:i={},props:r={},onlyChildren:d=!1,asHost:o=!1,deepProps:l=!1},c)=>{const{config:h,size:p,states:g}=t;let y,f={};Array.isArray(e)?[y,f]=e:y=e;const m=h.root[y];n(m)&&n(m.props)&&(r=Object.assign(Object.assign({},m.props),r)),r=Object.assign(Object.assign({},r),f);const u=(({element:e,size:t,states:i,config:s})=>{let r=[];const n=s.root[e],a=e=>{r.push(e),"string"==typeof t&&r.push(`${e}.${t}`)};if(a(e),"object"==typeof n&&!Array.isArray(n)&&null!==n){const{state:t,states:s}=n;let r=e,d=[];if(Array.isArray(s)){d=s.filter((e=>i[e])),d.sort();for(const e of d)a(`${r}.${e}`);d.length>1&&a([r,...d].join("."))}if("string"==typeof t){const s=`${e}[${t}=${i[t]}]`;a(s);for(const e of d)a(`${s}.${e}`);d.length>1&&a([s,...d].join("."))}}return r})({element:y,size:p,states:g,config:h}),v=(({selectors:e,root:t})=>{if(!Array.isArray(e)||null==t)return[];for(let i=e.length-1;i>=0;i--){const s=t[e[i]];if(Array.isArray(s))return s;if(Array.isArray(null==s?void 0:s.children))return s.children}return[]})({selectors:u,root:h.root});if(d)return(0,s.h)(a,{elements:v,defaults:t,props:i,deepProps:l});const b=(({selectors:e,styles:t})=>{if(!Array.isArray(e)||null==t)return{};const i={};for(const s of e){const e=t[s];null!=e&&Object.assign(i,e)}return i})({selectors:u,styles:h.styles});if(o)return(0,s.h)(s.H,Object.assign({},t,{style:b},r),(0,s.h)(a,{elements:v,defaults:t,props:i,deepProps:l}),c);if(y.startsWith("dyte-"))return(0,s.h)(y,Object.assign({},t,{style:b},r),(0,s.h)(a,{elements:v,defaults:t,props:i,deepProps:l}),c);{const[e,r]=y.split("#");return(0,s.h)(e,{id:r,style:b},(0,s.h)(a,{elements:v,defaults:t,props:i,deepProps:l}),c)}}},10670:function(e,t,i){i.d(t,{g:function(){return r},u:function(){return n}});const s={chat:"Chat",participants:"Participants",polls:"Polls",plugins:"Plugins",mic_off:"Mic Off",mic_on:"Mic On",video_off:"Video Off",video_on:"Video On",left_meeting:"You left the meeting",share_screen_start:"Share Screen",share_screen_stop:"Stop Sharing",leave:"Leave",dismiss:"Dismiss",page:"Page",settings:"Settings",audio:"Audio",video:"Video",connection:"Connection",leave_confirmation:"Are you sure you want to leave the call?",end_meeting_for_all:"End meeting for all",cancel:"Cancel"},r=async e=>{if(null==e||"en"===e||""===e.trim())return s;try{const t=await fetch(`http://localhost:5000/${e}.json`);return t.ok?Object.assign({},s,await t.json()):s}catch(t){return s}},n=(e=s)=>t=>{var i;return null!==(i=e[t])&&void 0!==i?i:t}}}]);
"use strict";(self.webpackChunkdyte_docs=self.webpackChunkdyte_docs||[]).push([[93052],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return m}});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=a.createContext({}),p=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=p(n),m=i,g=u["".concat(l,".").concat(m)]||u[m]||d[m]||r;return n?a.createElement(g,o(o({ref:t},c),{},{components:n})):a.createElement(g,o({ref:t},c))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,o[1]=s;for(var p=2;p<r;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},76110:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return p},toc:function(){return c},default:function(){return u}});var a=n(87462),i=n(63366),r=(n(67294),n(3905)),o=["components"],s={},l="Integrate Dyte SDK in React JS",p={unversionedId:"integrate-reactjs",id:"integrate-reactjs",isDocsHomePage:!1,title:"Integrate Dyte SDK in React JS",description:"Dyte has various SDKs available depending on the platforms. For example:",source:"@site/docs/guides/integrate-reactjs.mdx",sourceDirName:".",slug:"/integrate-reactjs",permalink:"/guides/integrate-reactjs",tags:[],version:"current",frontMatter:{}},c=[{value:"Pre-requisite",id:"pre-requisite",children:[]},{value:"Step 01: Create React application",id:"step-01-create-react-application",children:[]},{value:"Step 02: Install required packages",id:"step-02-install-required-packages",children:[]},{value:"Step 03: Project structure",id:"step-03-project-structure",children:[]},{value:"Step 04: Create meeting",id:"step-04-create-meeting",children:[]},{value:"Step 05: Add participants",id:"step-05-add-participants",children:[]},{value:"Step 06: Join meeting in the Lobby",id:"step-06-join-meeting-in-the-lobby",children:[]},{value:"Step 07: Invite attendees",id:"step-07-invite-attendees",children:[]},{value:"Step 08: Launch &amp; debug application",id:"step-08-launch--debug-application",children:[]}],d={toc:c};function u(e){var t=e.components,n=(0,i.Z)(e,o);return(0,r.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"integrate-dyte-sdk-in-react-js"},"Integrate Dyte SDK in React JS"),(0,r.kt)("p",null,"Dyte has various SDKs available depending on the platforms. For example:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Core SDK - Low-level yet easy to use Video SDK."),(0,r.kt)("li",{parentName:"ul"},"React Core SDK - React Hooks based low-level yet easy to use Video SDK."),(0,r.kt)("li",{parentName:"ul"},"React UI Kit - React components to build real-time communication user interfaces."),(0,r.kt)("li",{parentName:"ul"},"Angular UI Kit - Angular components to build real-time communication user interfaces."),(0,r.kt)("li",{parentName:"ul"},"Web Components UI Kit - Web Components based framework independent kit to build real-time communication user interfaces.")),(0,r.kt)("p",null,"You can read more about this SDK on the ",(0,r.kt)("a",{parentName:"p",href:"https://blog.dyte.io/launching-new-dyte-web-sdk/"},"blog")," or ",(0,r.kt)("a",{parentName:"p",href:"http://docs.dyte.io"},"documentation"),"."),(0,r.kt)("p",null,"In this guide, we will integrate ",(0,r.kt)("strong",{parentName:"p"},"React Core")," and ",(0,r.kt)("strong",{parentName:"p"},"React UIKit")," SDK into ",(0,r.kt)("strong",{parentName:"p"},"ReactJS")," application which we will build from scratch."),(0,r.kt)("p",null,"The UI of the application looks something like as shown below. And you can find source code of this app ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/mayur-tendulkar/Dyte-ReactJS"},"here"),"."),(0,r.kt)("img",{src:"https://dyte-assets.s3.ap-south-1.amazonaws.com/guides/dyte-integrate-reactjs/integrate-dyte-reactjs.gif",alt:"Image to display application UI",title:"Image to display application UI",width:"800"}),(0,r.kt)("h2",{id:"pre-requisite"},"Pre-requisite"),(0,r.kt)("p",null,"To build and run this application, make sure you have Node.js and React development tools installed.\nIf you are new to ReactJS, find information ",(0,r.kt)("a",{parentName:"p",href:"https://reactjs.org/docs/getting-started.html"},"here"),"."),(0,r.kt)("p",null,"Note: If you've downloaded the source code, replace or add values to ",(0,r.kt)("inlineCode",{parentName:"p"},".env")," file from ",(0,r.kt)("a",{parentName:"p",href:"https://dev.dyte.io/apikeys"},"Dyte Developer Portal"),". To get an overiew of Dyte Developer Portal, watch this ",(0,r.kt)("a",{parentName:"p",href:"https://www.youtube.com/watch?v=uiHJTYXQCrI"},"YouTube Video")),(0,r.kt)("h2",{id:"step-01-create-react-application"},"Step 01: Create React application"),(0,r.kt)("p",null,"Use ",(0,r.kt)("inlineCode",{parentName:"p"},"npx create-react-app dyte-reactjs")," on Terminal to create an app called ",(0,r.kt)("inlineCode",{parentName:"p"},"dyte-reactjs")),(0,r.kt)("p",null,"This will create a folder on your machine with the same name i.e. ",(0,r.kt)("inlineCode",{parentName:"p"},"dyte-reactjs"),". Open this folder in your favorite editor. We will use Visual Studio Code in this guide."),(0,r.kt)("h2",{id:"step-02-install-required-packages"},"Step 02: Install required packages"),(0,r.kt)("p",null,"To build this project, we will need to install few dependencies. Install those using ",(0,r.kt)("inlineCode",{parentName:"p"},"npm-install")," command as shown."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Axios : ",(0,r.kt)("inlineCode",{parentName:"li"},"npm install axios")),(0,r.kt)("li",{parentName:"ul"},"React Router Dom : ",(0,r.kt)("inlineCode",{parentName:"li"},"npm install react-router-dom")),(0,r.kt)("li",{parentName:"ul"},"Dyte SDK (React Web Core and React UI Kit): ",(0,r.kt)("inlineCode",{parentName:"li"},"npm install @dytesdk/react-ui-kit @dytesdk/react-web-core"))),(0,r.kt)("h2",{id:"step-03-project-structure"},"Step 03: Project structure"),(0,r.kt)("p",null,"Once you create the React app, the project structure will look something like this:"),(0,r.kt)("img",{src:"https://dyte-assets.s3.ap-south-1.amazonaws.com/guides/dyte-integrate-reactjs/integrate-dyte-reactjs-project-structure.png",alt:"Project structure UI",title:"Project structure UI",width:"800"}),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Index.JS : To setup initial application and launch."),(0,r.kt)("li",{parentName:"ul"},"App.JS : To setup application routes."),(0,r.kt)("li",{parentName:"ul"},"Pages\\Welcome.JS : Ask user for meeting tile and create meeting."),(0,r.kt)("li",{parentName:"ul"},"Pages\\Meeting.JS : Ask user to join as 'Host' or 'Participant'"),(0,r.kt)("li",{parentName:"ul"},"Pages\\Lobby.JS : Launch meeting screen with user joined. Allow user to manage the meeting.")),(0,r.kt)("p",null,"On each JavaScript page, import packages and components as required.\nFor example, below code sample is from ",(0,r.kt)("inlineCode",{parentName:"p"},"App.JS")," which needs all components for routing purpose. Refer each file for its ",(0,r.kt)("inlineCode",{parentName:"p"},"imports"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"import './App.css';\nimport {Routes, Route} from 'react-router-dom'\nimport Welcome from './Pages/Welcome';\nimport Meeting from './Pages/Meeting';\nimport Lobby from './Pages/Lobby';\nimport Logo from '../dyte.svg'\n")),(0,r.kt)("p",null,"Once, we imported all components, let's setup routing for this app using React Router in ",(0,r.kt)("inlineCode",{parentName:"p"},"App.js")," file."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'<Routes>\n    <Route path="/" element={<Welcome />} />\n    <Route path="/meeting" element={<Meeting />} />\n    <Route path="/meeting/:roomName/:meetingId" element={<Meeting />} />\n    <Route path="/lobby" element={<Lobby/>}/>\n</Routes>\n')),(0,r.kt)("h2",{id:"step-04-create-meeting"},"Step 04: Create meeting"),(0,r.kt)("img",{src:"https://dyte-assets.s3.ap-south-1.amazonaws.com/guides/dyte-integrate-reactjs/integrate-dyte-reactjs-welcome.png",alt:"Welcome UI",title:"Welcome UI",width:"800"}),(0,r.kt)("p",null,"We use ",(0,r.kt)("inlineCode",{parentName:"p"},"Welcome.JS")," file to create a React component called ",(0,r.kt)("inlineCode",{parentName:"p"},"Welcome")," which allows users to create a Meeting."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"function Welcome(){\n\n}\nexport default Welcome\n")),(0,r.kt)("p",null,"To manage navivation, state etc, let's use React Hooks ",(0,r.kt)("inlineCode",{parentName:"p"},"useNavivate()")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"useState()"),".  "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"// React Hook useNavigate() to allow navigation\nconst navigate = useNavigate(); \n// React Hook useState() to set Meeting Title\nconst [title, setTitle] = useState('');\n// Handler to set Meeting Title in the variable\nconst setTitleHandler = (e) => {\n    setTitle(e.target.value);\n}\n")),(0,r.kt)("p",null,"This component returns HTML to allow user to enter meeting title and create meeting by clicking on a button. We will render this HTML in ",(0,r.kt)("inlineCode",{parentName:"p"},"return")," block."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"<div class=\"App\">\n    <img src={Logo}/>\n    <h1>: Welcome to Dyte :</h1>\n    <input  id='meetingTitleInput' onChange={setTitleHandler} placeholder=\"Enter Meeting Title\"/>\n    <button id='createMeetingButton'  onClick={createMeetingHandler}>Create Meeting</button>\n</div>\n")),(0,r.kt)("p",null,"Creating a meeting is a simple HTTP call to Dyte backend API ",(0,r.kt)("a",{parentName:"p",href:"https://docs.dyte.io/api/#/operations/createMeeting"},"Create Meeting"),". However, to call these APIs, you'll need to pass details which include ",(0,r.kt)("inlineCode",{parentName:"p"},"Organization ID"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"API Key")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"Base URL"),". You can find the se details on Dyte Developer Portal. Copy these details and save it in ",(0,r.kt)("inlineCode",{parentName:"p"},".env")," file."),(0,r.kt)("p",null,"In ",(0,r.kt)("inlineCode",{parentName:"p"},"createMeetingHandler")," let's read these values from ",(0,r.kt)("inlineCode",{parentName:"p"},".env")," file and use it to make a HTTP call."),(0,r.kt)("p",null,"On success (HTTP 200), we will use details from response and store in variables ",(0,r.kt)("inlineCode",{parentName:"p"},"meetingId")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"roomName"),".\nAlso, after meeting is created, let's navigate the user to `Meeting' component."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const createMeetingHandler = async e => {\n    const apiKEY = process.env.REACT_APP_DYTE_API_KEY;\n    const orgID = process.env.REACT_APP_DYTE_ORG_ID;\n    const baseURL = process.env.REACT_APP_DYTE_API_BASE_URL; \n    \n\n    const meetingURL = `${baseURL}/v1/organizations/${orgID}/meeting`;\n    const createMeetingResponse = await axios.post(meetingURL, { title: title || \"New test meeting\", }, \n                                                                { headers: { 'Authorization': `APIKEY ${apiKEY}` } });\n    const meeting = createMeetingResponse.data.data.meeting;\n    const meetingId = meeting.id;\n    const roomName = meeting.roomName;\n\n    navigate('/meeting', { state: { meetingId: meetingId, roomName: roomName } });\n}\n")),(0,r.kt)("h2",{id:"step-05-add-participants"},"Step 05: Add participants"),(0,r.kt)("img",{src:"https://dyte-assets.s3.ap-south-1.amazonaws.com/guides/dyte-integrate-reactjs/integrate-dyte-reactjs-meeting.png",alt:"Meeting created, add participant UI",title:"Meeting created, add participant UI",width:"800"}),(0,r.kt)("p",null,"Once the meeting is created, you can add participants in this meeting. Participants can have different roles or presets which you can define already. By default, 'host' or 'participant' roles are available.\nAdding a participant is nothing but calling a REST API ",(0,r.kt)("a",{parentName:"p",href:"https://docs.dyte.io/api/#/operations/addParticipant"},"Add Participant"),"."),(0,r.kt)("p",null,"Create a React component called ",(0,r.kt)("inlineCode",{parentName:"p"},"Meeting")," in ",(0,r.kt)("inlineCode",{parentName:"p"},"Meeting.js")," file and use following code."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"}," const joinURL = `${baseURL}/v1/organizations/${orgID}/meetings/${meetingId}/participant`; \n\n    const joinParticipantHandler = async e => { \n        var participantResponse = await axios.post(joinURL, {\n            // Use random ID for user to add in this meeting\n            clientSpecificId: Math.random().toString(36).substring(7),\n            userDetails: {\n            // Provide details like name, profile URL\n                \"name\": \"Participant\" + Math.random().toString(36).substring(2) }, }, {\n            headers: {\n                'Authorization': `APIKEY ${apiKEY}`\n            }\n        });\n        \n        const authResponse = participantResponse.data.data.authResponse;\n        authToken = authResponse.authToken;\n\n        navigate('/lobby', { state: { meetingId: meetingId, roomName: roomName, authToken: authToken, orgID: orgID } });\n    }\n")),(0,r.kt)("p",null,"In above code, on success (HTTP 200), we will navigate the user to lobby, where user can select preferred video and audio devices and join the meeting. "),(0,r.kt)("h2",{id:"step-06-join-meeting-in-the-lobby"},"Step 06: Join meeting in the Lobby"),(0,r.kt)("img",{src:"https://dyte-assets.s3.ap-south-1.amazonaws.com/guides/dyte-integrate-reactjs/integrate-dyte-reactjs-lobby.png",alt:"Meeting lobby UI",title:"Meeting lobby UI",width:"800"}),(0,r.kt)("p",null,"On this screen, we render ",(0,r.kt)("inlineCode",{parentName:"p"},"DyteClient")," which represents a lobby (where users can wait, select preferred video & audio devices) and join the meeting room (actual meeting stage). "),(0,r.kt)("p",null,"Create a React components called ",(0,r.kt)("inlineCode",{parentName:"p"},"Lobby")," in ",(0,r.kt)("inlineCode",{parentName:"p"},"Lobby.JS")," file and use following code."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const[client, initClient] = useDyteClient();\n    useEffect(() => {\n        initClient({\n            authToken: authToken,\n            roomName: roomName,\n            defaults: {\n              audio: true,\n              video: true,\n            },\n          });\n    },[]) \n")),(0,r.kt)("p",null,"In above code we initialize ",(0,r.kt)("inlineCode",{parentName:"p"},"DyteClient"),". To actually render it, we ",(0,r.kt)("inlineCode",{parentName:"p"},"return")," it in HTML code."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'return (<div>   \n    <DyteMeeting meeting={client} class="Dyte" />\n</div>);\n')),(0,r.kt)("h2",{id:"step-07-invite-attendees"},"Step 07: Invite attendees"),(0,r.kt)("img",{src:"https://dyte-assets.s3.ap-south-1.amazonaws.com/guides/dyte-integrate-reactjs/integrate-dyte-reactjs-stage.png",alt:"Meeting room UI",title:"Meeting room UI",width:"800"}),(0,r.kt)("p",null,"In the same ",(0,r.kt)("inlineCode",{parentName:"p"},"Lobby.JS")," file, let's write code to set browser URL to something which can be shared as invite and people can join the same meeting."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const meetingURL = '/meeting/' + roomName + '/' + meetingId;\nwindow.history.pushState('', 'meeting', meetingURL);\n")),(0,r.kt)("h2",{id:"step-08-launch--debug-application"},"Step 08: Launch & debug application"),(0,r.kt)("p",null,"React applications can be launched by command ",(0,r.kt)("inlineCode",{parentName:"p"},"npm start"),". If everything is right and you have no compile errors, you should see the same output as shown below. You should be able to create a meeting, add participant and see the meeting room."),(0,r.kt)("img",{src:"https://dyte-assets.s3.ap-south-1.amazonaws.com/guides/dyte-integrate-reactjs/integrate-dyte-reactjs.gif",alt:"Image to display application UI",title:"Image to display application UI",width:"800"}))}u.isMDXComponent=!0}}]);
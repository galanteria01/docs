"use strict";(self.webpackChunkdyte_docs=self.webpackChunkdyte_docs||[]).push([[69626],{69626:function(e,t,i){i.r(t),i.d(t,{dyte_peer_view:function(){return a}});var o=i(13441),r=i(14878);const a=class{constructor(e){(0,o.r)(this,e),this.isSelf=!1,this.nameTagPosition="bottom-left",this.variant="solid",this.iconPack=r.d,this.isPreview=!1,this.videoEnabled=!1,this.isMirrored=!1}componentDidLoad(){this.peerChanged(this.peer)}disconnectedCallback(){var e,t;this.previewUpdateListener&&(null===(e=this.peer)||void 0===e||e.removeListener("previewUpdate",this.previewUpdateListener)),this.videoUpdateListener&&(null===(t=this.peer)||void 0===t||t.removeListener("videoUpdate",this.videoUpdateListener))}peerChanged(e){null!=e&&(("preview"in e||this.isPreview)&&(0,o.w)((()=>{var e,t,i;this.isSelf=!0,this.isMirrored=null!==(i=null===(t=null===(e=this.states)||void 0===e?void 0:e.prefs)||void 0===t?void 0:t.mirrorVideo)&&void 0!==i&&i})),this.videoUpdateListener=({videoEnabled:e,videoTrack:t})=>{if((0,o.w)((()=>{this.videoEnabled=e&&null!=t})),e&&null!=t){const e=new MediaStream;e.addTrack(t),null!=this.videoEl&&(this.videoEl.srcObject=e)}else this.videoEl.srcObject=void 0},this.isPreview?(this.previewUpdateListener=({preview:e})=>{const{videoEnabled:t,videoTrack:i}=e;this.videoUpdateListener({videoEnabled:t,videoTrack:i})},this.previewUpdateListener(e),e.addListener("previewUpdate",this.previewUpdateListener)):this.videoUpdateListener(e),e.addListener("videoUpdate",this.videoUpdateListener))}statesChanged(e){this.isSelf&&null!=e.prefs&&"mirrorVideo"in e.prefs&&(this.isMirrored=e.prefs.mirrorVideo)}render(){return(0,o.h)(o.H,null,(0,o.h)("video",{ref:e=>this.videoEl=e,class:{visible:this.videoEnabled,mirror:this.isMirrored},autoPlay:!0,playsInline:!0,muted:!0}),(0,o.h)("slot",null))}static get watchers(){return{peer:["peerChanged"],states:["statesChanged"]}}};a.style=":host{position:relative;display:flex;align-items:center;justify-content:center;font-family:var(--dyte-font-family, sans-serif);aspect-ratio:16 / 9;height:var(--dyte-space-56, 224px);overflow:hidden;border-radius:var(--dyte-border-radius-lg, 12px);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-video-bg, 24 24 24) / var(--tw-bg-opacity));transition:flex-grow 0.4s}::slotted(dyte-name-tag){position:absolute;left:var(--dyte-space-3, 12px);bottom:var(--dyte-space-3, 12px)}:host([size='sm'][variant='solid']) ::slotted(dyte-name-tag){left:var(--dyte-space-2, 8px);bottom:var(--dyte-space-2, 8px);height:var(--dyte-space-4, 16px)}video{display:none;position:absolute;height:100%;width:100%;border-radius:var(--dyte-border-radius-lg, 12px);-o-object-fit:cover;object-fit:cover}video.visible{display:block}video::-webkit-media-controls{display:none !important}:host([variant='gradient']) ::slotted(dyte-audio-visualizer){position:absolute;top:var(--dyte-space-2, 8px);right:var(--dyte-space-2, 8px);border-radius:9999px;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));padding:var(--dyte-space-2, 8px)}:host([variant='gradient']) ::slotted(dyte-name-tag){bottom:var(--dyte-space-0, 0px);left:var(--dyte-space-0, 0px);display:flex;width:100%;align-items:center;justify-content:center;text-align:center;background-color:transparent;background-image:linear-gradient(to top, var(--tw-gradient-stops));--tw-gradient-from:rgb(var(--dyte-colors-background-1000, 8 8 8));--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to, rgba(var(--dyte-colors-background-1000, 8 8 8) / 0));--tw-gradient-to:transparent}video.mirror{transform:scaleX(-1)}:host([name-tag-position='bottom-right']) ::slotted(dyte-name-tag){left:auto;right:var(--dyte-space-3, 12px)}:host([name-tag-position='bottom-center']) ::slotted(dyte-name-tag){left:auto;right:auto}:host([name-tag-position='top-left']) ::slotted(dyte-name-tag){top:var(--dyte-space-3, 12px);bottom:auto}:host([name-tag-position='top-right']) ::slotted(dyte-name-tag){top:var(--dyte-space-3, 12px);right:var(--dyte-space-3, 12px);left:auto;bottom:auto}:host([name-tag-position='top-center']) ::slotted(dyte-name-tag){left:auto;right:auto;bottom:auto;top:var(--dyte-space-3, 12px)}"}}]);